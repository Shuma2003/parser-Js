# Parser-Js
## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

    –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

    –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

    –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

    API

    –ü—Ä–∏–º–µ—Ä—ã

    –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

## üöÄ–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

TASS Parser - —ç—Ç–æ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –∏ —Å—Ç–∞—Ç–µ–π —Å —Å–∞–π—Ç–∞ tass.ru. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–≤–ª–µ–∫–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏, —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç–µ–π –∏ –º–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.
–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

    üì∞ –ü–∞—Ä—Å–∏–Ω–≥ —Å–ø–∏—Å–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π —Å —Ä–∞–∑–¥–µ–ª–æ–≤ TASS

    üìñ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —Å—Ç–∞—Ç–µ–π

    üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ

    üîç –ê–≤—Ç–æ–ø–æ–∏—Å–∫ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤

    üõ°Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

    Node.js –≤–µ—Ä—Å–∏–∏ 14 –∏–ª–∏ –≤—ã—à–µ

    npm (–æ–±—ã—á–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å Node.js)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

    –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞:

bash

mkdir tass-parser
cd tass-parser

    –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ npm –ø—Ä–æ–µ–∫—Ç:

bash

npm init -y

    –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

bash

npm install axios cheerio

    –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å –∫–æ–¥–æ–º:

bash

# –ù–∞–∑–æ–≤–∏—Ç–µ —Ñ–∞–π–ª –Ω–∞–ø—Ä–∏–º–µ—Ä: parser.js

 ## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

    –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞ —Å–ø–∏—Å–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π:

javascript

// –í —Ñ–∞–π–ª–µ parser.js
const { parseTassNews } = require('./parser');
parseTassNews();

bash

node parser.js

    –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç–∞—Ç—å–∏:

javascript

const { parseTassArticle } = require('./parser');
parseTassArticle('https://tass.ru/ekonomika/25701385');

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ä–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:
bash

# –ü–∞—Ä—Å–∏–Ω–≥ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —ç–∫–æ–Ω–æ–º–∏–∫–∏
node parser.js

# –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç–∞—Ç—å–∏
node parser.js --article https://tass.ru/ekonomika/25701385

# –ü–∞—Ä—Å–∏–Ω–≥ –¥—Ä—É–≥–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞
node parser.js --section politics

## üìö API
–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
parseTassNews(url = 'https://tass.ru/ekonomika')

–ü–∞—Ä—Å–∏—Ç —Å–ø–∏—Å–æ–∫ –Ω–æ–≤–æ—Å—Ç–µ–π —Å —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ TASS.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

    url (string) - URL —Ä–∞–∑–¥–µ–ª–∞ TASS –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

    Promise<Array> - –ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Å –Ω–æ–≤–æ—Å—Ç—è–º–∏

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–∞ –Ω–æ–≤–æ—Å—Ç–∏:
javascript

{
  title: "–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏",
  link: "https://tass.ru/...", // –ü–æ–ª–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç–∞—Ç—å—é
  timestamp: "2024-01-01T12:00:00Z" // –í—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
}

parseTassArticle(articleUrl)

–ü–∞—Ä—Å–∏—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å—Ç–∞—Ç—å—é —Å TASS.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

    articleUrl (string) - URL —Å—Ç–∞—Ç—å–∏ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

    Promise<Object> - –û–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ —Å—Ç–∞—Ç—å–∏

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–∞ —Å—Ç–∞—Ç—å–∏:
javascript

{
  title: "–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏",
  content: ["–∞–±–∑–∞—Ü 1", "–∞–±–∑–∞—Ü 2", ...], // –ú–∞—Å—Å–∏–≤ –∞–±–∑–∞—Ü–µ–≤
  url: "https://tass.ru/...", // URL —Å—Ç–∞—Ç—å–∏
  publishDate: "2024-01-01", // –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
  section: "ekonomika" // –†–∞–∑–¥–µ–ª
}

tryAlternativeSelectors($)

–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ä–∞–±–æ—á–∏—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

    $ (function) - Cheerio –æ–±—ä–µ–∫—Ç

 ## üìù –ü—Ä–∏–º–µ—Ä—ã
–ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —Ä–∞–∑–¥–µ–ª–∞
javascript

const { parseTassNews } = require('./parser');

async function main() {
  const news = await parseTassNews('https://tass.ru/politika');
  console.log(`–ù–∞–π–¥–µ–Ω–æ ${news.length} –Ω–æ–≤–æ—Å—Ç–µ–π`);
  news.forEach(item => console.log(`- ${item.title}`));
}

main();

–ü—Ä–∏–º–µ—Ä 2: –ü–∞—Ä—Å–∏–Ω–≥ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç–∞—Ç–µ–π
javascript

const { parseTassArticle } = require('./parser');

const articles = [
  'https://tass.ru/ekonomika/25701385',
  'https://tass.ru/obschestvo/25701386'
];

async function parseMultipleArticles() {
  for (const url of articles) {
    const article = await parseTassArticle(url);
    console.log(`–°—Ç–∞—Ç—å—è: ${article.title}`);
    console.log(`–ê–±–∑–∞—Ü–µ–≤: ${article.content.length}`);
  }
}

parseMultipleArticles();

–ü—Ä–∏–º–µ—Ä 3: –ö–∞—Å—Ç–æ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
javascript

const axios = require('axios');
const cheerio = require('cheerio');

async function customParser() {
  const response = await axios.get('https://tass.ru/ekonomika', {
    timeout: 15000, // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ç–∞–π–º–∞—É—Ç
    headers: {
      'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',
      'Accept-Language': 'ru-RU,ru;q=0.9,en;q=0.8'
    }
  });
  
  // –î–∞–ª—å–Ω–µ–π—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞...
}

 ## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
text

tass-parser/
‚îú‚îÄ‚îÄ parser.js          # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å –∫–æ–¥–æ–º –ø–∞—Ä—Å–µ—Ä–∞
‚îú‚îÄ‚îÄ package.json       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è npm
‚îú‚îÄ‚îÄ news.json          # –ü—Ä–∏–º–µ—Ä –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ tass_news.json     # –ü—Ä–∏–º–µ—Ä –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –¥–ª—è –Ω–æ–≤–æ—Å—Ç–µ–π
‚îî‚îÄ‚îÄ README.md          # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏–µ
‚ùå "Cannot find module 'axios'"

–†–µ—à–µ–Ω–∏–µ:
bash

npm install axios cheerio

‚ùå "Timeout of 10000ms exceeded"

–†–µ—à–µ–Ω–∏–µ: –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç:
javascript

const response = await axios.get(url, {
  timeout: 30000, // 30 —Å–µ–∫—É–Ω–¥
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
});

‚ùå "–ù–æ–≤–æ—Å—Ç–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"

–†–µ—à–µ–Ω–∏–µ:

    –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –¥–æ—Å—Ç—É–ø–µ–Ω –ª–∏ —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ

    –û–±–Ω–æ–≤–∏—Ç–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –≤ –∫–æ–¥–µ

    –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é tryAlternativeSelectors –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–æ–≤—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤

‚ùå "Access denied" –∏–ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞

–†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤:
javascript

headers: {
  'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36',
  'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'Accept-Language': 'ru-RU,ru;q=0.8,en-US;q=0.5,en;q=0.3',
  'Connection': 'keep-alive'
}

## –û—Ç–ª–∞–¥–∫–∞

–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤—ã–≤–æ–¥ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:
javascript

// –í–∫–ª—é—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
console.log('–°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞:', response.status);
console.log('–î–ª–∏–Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:', response.data.length);
console.log('–°–µ–ª–µ–∫—Ç–æ—Ä—ã –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è:', selectors);

## üìä –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
–§–æ—Ä–º–∞—Ç JSON —Ñ–∞–π–ª–æ–≤

news.json (—Å–ø–∏—Å–æ–∫ –Ω–æ–≤–æ—Å—Ç–µ–π):
json

[
  {
    "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏ 1",
    "link": "https://tass.ru/...",
    "timestamp": "2024-01-01T12:00:00Z"
  },
  {
    "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏ 2", 
    "link": "https://tass.ru/...",
    "timestamp": "2024-01-01T11:30:00Z"
  }
]

tass_article.json (–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Å—Ç–∞—Ç—å—è):
json

{
  "title": "–ü–æ–ª–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏",
  "content": [
    "–ü–µ—Ä–≤—ã–π –∞–±–∑–∞—Ü —Å—Ç–∞—Ç—å–∏...",
    "–í—Ç–æ—Ä–æ–π –∞–±–∑–∞—Ü —Å—Ç–∞—Ç—å–∏...",
    "–¢—Ä–µ—Ç–∏–π –∞–±–∑–∞—Ü —Å—Ç–∞—Ç—å–∏..."
  ],
  "url": "https://tass.ru/ekonomika/25701385",
  "publishDate": "2024-01-01",
  "section": "ekonomika"
}

## ü§ù –í–∫–ª–∞–¥ –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —É–ª—É—á—à–∏—Ç—å –ø–∞—Ä—Å–µ—Ä:

    –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

    –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ (git checkout -b feature/amazing-feature)

    –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (git commit -m 'Add amazing feature')

    –ó–∞–ø—É—à—å—Ç–µ –≤–µ—Ç–∫—É (git push origin feature/amazing-feature)

    –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ MIT License.
## ‚ö†Ô∏è –í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ

–ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–∞—Ä—Å–µ—Ä–∞ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã:

    –°–æ–±–ª—é–¥–∞–µ—Ç–µ robots.txt —Å–∞–π—Ç–∞

    –ù–µ –Ω–∞—Ä—É—à–∞–µ—Ç–µ —É—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è TASS

    –ù–µ —Å–æ–∑–¥–∞–µ—Ç–µ —á—Ä–µ–∑–º–µ—Ä–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ã

    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º –†–§

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è TASS Parser v1.0
